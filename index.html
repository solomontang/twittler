<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <button class="streamToggle-btn">Toggle Tweet Stream: ON</button>
    <button class="nextTweet-btn">Show Next Tweet</button>
    <section class='tweetList'> </section>
    <script>

      $(document).ready(function(){
        var $list = $('.tweetList');
        /*$body.html('');*/
        var showNextTweet = function() {
          var tweet = streams.home[index];
          var $tweet = $('<ul class="tweet"></ul>');
          $tweet.text(tweet.created_at + ' @' + tweet.user + ': ' + tweet.message);

          if ($tweet.text() !== $('div').first().text()) {
            $tweet.prependTo($list);
            index++;
          }
        }

        var index = 0;
        //NEXT TWEET BUTTON
        $('.nextTweet-btn').on('click', showNextTweet);

        //TOGGLE STREAM BUTTON
        var toggleStream = window.setInterval(showNextTweet, 1000);
        $('.streamToggle-btn').on('click', function() {
          if(toggleStream) {
            window.clearInterval(toggleStream);
            toggleStream = null;
            $(this).text('Toggle Tweet Stream: OFF');
          } else {
            toggleStream = window.setInterval(showNextTweet, 1000);
            $(this).text('Toggle Tweet Stream: ON');
          }
        }); 

      });
    </script>
  </body>
</html>
